#
# Loaded for each terminal and sourced at login by .bash_profile.
#

# If not running interactively, don't do anything
[ -z "$PS1" ] && return

# Make less more friendly for non-text input files, see lesspipe(1)
[ -x /usr/bin/lesspipe ] && eval "$(SHELL=/bin/sh /usr/bin/lesspipe)"

# Enable programmable completion features (you don't need to enable this, if
# it's already enabled in /etc/bash.bashrc and /etc/profile sources
# /etc/bash.bashrc).
if [ -f /etc/bash_completion ]; then
    . /etc/bash_completion
fi

set -o vi                         # Run bash with vi keys instead of emacs
shopt -s checkwinsize
shopt -s histappend
shopt -s cdspell                  # Let bash help you change directories when you can't spell

export MANPAGER="nvim -c 'set ft=man' -"
export HISTCONTROL=ignoredups
export HISTSIZE=100000
export PROMPT_COMMAND='history -a'
export EDITOR=vim
export LESS=mqeisz-2XR 		            # -R is important for escape sequences
export TERM=xterm-256color                  # this is for solarized
export PYTHONDONTWRITEBYTECODE=1            # stop littering

export PATH=\
/usr/local/bin:\
/usr/local/sbin:\
/usr/bin:\
/usr/sbin:\
/bin:\
/sbin:\
~/.local/bin

#
# Set the dotfile plugins to load.
#
# shellcheck disable=SC2034
export DOTFILE_PLUGINS=(
    dircolors
    fzf
    git
    gruf
    ls
    powerline
    rvm
    virtualenvwrapper
    wish
    direnv # direnv must be initiliazed last
)

#
# Source the configuration for these dotfiles of which this file is a part.
#
# This assumes the install script has been run and .bashrc is a link pointing
# into the dotfiles repo.
bashrc_location=$(readlink -f ~/.bashrc)
dotfiles_dir=${bashrc_location%/rcs/bashrc}
. "$dotfiles_dir/activate.sh"
